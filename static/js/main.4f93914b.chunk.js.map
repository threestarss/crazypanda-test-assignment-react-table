{"version":3,"sources":["Contexts/DataStore.js","Contexts/PageNum.js","Contexts/UnsortedData.js","Contexts/SortingMode.js","Header.js","TableButtonRow.js","TableItemRow.js","SortingButton.js","Table.js","PaginationButton.js","Pagination.js","App.js","index.js"],"names":["DataStore","createContext","PageNum","UnsortedData","SortingMode","Header","setDataToShow","unsortedData","useContext","setData","setSortMode","setPageNum","onChange","event","query","String","target","value","filtered","slice","filter","obj","Object","values","some","elem","includes","placeholder","type","onClick","newData","TableButtonRow","className","children","data","sortMode","defaultVal","sort","a","b","dataset","id","localeCompare","TableItemRow","postId","email","name","body","SortingButton","data-type","Table","dataToShow","setUnsortedData","pageNum","useEffect","fetch","fetchResult","json","fetchResponse","choppedResponse","fetchData","map","PaginationButton","setPage","Pagination","useState","pageCount","setPageCount","textContent","Math","ceil","length","disabled","Array","index","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wLAIeA,G,MAFGC,2BCEHC,EAFCD,0BCEDE,EAFMF,0BCENG,EAFKH,0B,OCsCLI,MAjCf,YAAoC,IAAlBC,EAAiB,EAAjBA,cACRC,EAAiBC,qBAAWL,GAA5BI,aACAE,EAAYD,qBAAWR,GAAvBS,QACAC,EAAgBF,qBAAWJ,GAA3BM,YACAC,EAAeH,qBAAWN,GAA1BS,WAqBR,OACE,mCACE,uBAAOC,SArBX,SAAoBC,GAClBF,EAAW,GACX,IAAIG,EAAQC,OAAOF,EAAMG,OAAOC,OAE5BC,EADUX,EAAaY,QACJC,QAAO,SAACC,GAC7B,OAAOC,OAAOC,OAAOF,GAAKG,MAAK,SAACC,GAAD,OAAUV,OAAOU,GAAMC,SAASZ,SAEjEL,EAAQS,GACRZ,EAAcY,EAASC,MAAM,EAAG,MAaDQ,YAAa,oCAAYC,KAAK,SAC3D,wBAAQC,QAXZ,WACE,IAAIC,EAAUvB,EAAaY,QAC3BR,EAAW,GACXD,GAAY,GACZD,EAAQqB,GACRxB,EAAcwB,EAAQX,MAAM,EAAG,MAM7B,qK,uBCwBSY,MArDf,YAAiE,IAAvCC,EAAsC,EAAtCA,UAAW1B,EAA2B,EAA3BA,cAAe2B,EAAY,EAAZA,SAAY,EACpCzB,qBAAWR,GAA7BkC,EADsD,EACtDA,KAAMzB,EADgD,EAChDA,QACNF,EAAiBC,qBAAWL,GAA5BI,aACAI,EAAeH,qBAAWN,GAA1BS,WAHsD,EAI5BH,qBAAWJ,GAArC+B,EAJsD,EAItDA,SAAUzB,EAJ4C,EAI5CA,YA0ClB,OACE,qBAAKsB,UAAWA,EAAWH,QAzC7B,SAAgBhB,GACd,IAAIuB,EAAa7B,EAAaY,QAC1BW,EAAUI,EAAKf,SAEF,IAAbgB,GACFL,EAAQO,MAkBV,SAAmBC,EAAGC,GACpB,GAAkC,WAA9B1B,EAAMG,OAAOwB,QAAQZ,KACvB,OAAOU,EAAEzB,EAAMG,OAAOyB,IAAIC,cAAcH,EAAE1B,EAAMG,OAAOyB,KAClD,GAAkC,WAA9B5B,EAAMG,OAAOwB,QAAQZ,KAC9B,OAAOU,EAAEzB,EAAMG,OAAOyB,IAAMF,EAAE1B,EAAMG,OAAOyB,IAAM,GAAK,KArBxD/B,GAAY,GACZD,EAAQqB,GACRnB,EAAW,GACXL,EAAcwB,EAAQX,MAAM,EAAG,OACT,IAAbgB,GACTL,EAAQO,MAoBV,SAAoBC,EAAGC,GACrB,GAAkC,WAA9B1B,EAAMG,OAAOwB,QAAQZ,KACvB,OAAOW,EAAE1B,EAAMG,OAAOyB,IAAIC,cAAcJ,EAAEzB,EAAMG,OAAOyB,KAClD,GAAkC,WAA9B5B,EAAMG,OAAOwB,QAAQZ,KAC9B,OAAOU,EAAEzB,EAAMG,OAAOyB,IAAMF,EAAE1B,EAAMG,OAAOyB,IAAM,GAAK,KAvBxD/B,EAAY,MACZD,EAAQqB,GACRnB,EAAW,GACXL,EAAcwB,EAAQX,MAAM,EAAG,OAE/BT,GAAY,GACZD,EAAQ2B,GACRzB,EAAW,GACXL,EAAc8B,EAAWjB,MAAM,EAAG,OAqBpC,SACGc,KChCQU,MAtBf,YAAqE,IAA7CX,EAA4C,EAA5CA,UAAWS,EAAiC,EAAjCA,GAAIG,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KAC1D,OACE,sBAAKf,UAAWA,EAAhB,UACE,qBAAKA,UAAU,iBAAf,SACE,4BAAIS,MAEN,qBAAKT,UAAU,iBAAf,SACE,4BAAIY,MAEN,qBAAKZ,UAAU,iBAAf,SACE,4BAAIa,MAEN,qBAAKb,UAAU,iBAAf,SACE,4BAAIc,MAEN,qBAAKd,UAAU,iBAAf,SACE,4BAAIe,UCRGC,MARf,YAAuD,IAA9BhB,EAA6B,EAA7BA,UAAWS,EAAkB,EAAlBA,GAAIb,EAAc,EAAdA,KAAMkB,EAAQ,EAARA,KAC5C,OACE,wBAAQG,YAAWrB,EAAMa,GAAIA,EAAIT,UAAWA,EAA5C,SACGc,KCgFQI,MAzEf,YAA+C,IAA9BC,EAA6B,EAA7BA,WAAY7C,EAAiB,EAAjBA,cAAiB,EAClBE,qBAAWR,GAA7BkC,EADoC,EACpCA,KAAMzB,EAD8B,EAC9BA,QACN2C,EAAoB5C,qBAAWL,GAA/BiD,gBACAC,EAAY7C,qBAAWN,GAAvBmD,QAqBR,OAnBAC,qBAAU,WAAM,4CACd,gCAAAhB,EAAA,sEAC4BiB,MAAM,iDADlC,cACQC,EADR,gBAI8BA,EAAYC,OAJ1C,OAIQC,EAJR,OAKQC,EAAkBD,EAAcvC,MAAM,EAAG,KAC/CiC,EAAgBO,GAChBlD,EAAQkD,GACRrD,EAAcqD,EAAgBxC,MAAM,EAAG,KARzC,6CADc,uBAAC,WAAD,wBAYdyC,KACC,IAEHN,qBAAU,WACRhD,EAAc4B,EAAKf,MAAgB,GAAVkC,EAAwB,GAAVA,EAAe,OACrD,CAACA,IAGF,sBAAKrB,UAAU,QAAf,UACE,eAAC,EAAD,CAAgBA,UAAU,cAAc1B,cAAeA,EAAvD,UACE,cAAC,EAAD,CACE0B,UAAU,iBACVS,GAAI,KACJb,KAAM,SACNkB,KAAM,OAER,cAAC,EAAD,CACEd,UAAU,iBACVS,GAAI,SACJb,KAAM,SACNkB,KAAM,sCAER,cAAC,EAAD,CACEd,UAAU,iBACVS,GAAI,QACJb,KAAM,SACNkB,KAAM,gDAER,cAAC,EAAD,CACEd,UAAU,iBACVS,GAAI,OACJb,KAAM,SACNkB,KAAM,2DAER,cAAC,EAAD,CACEd,UAAU,iBACVS,GAAI,OACJb,KAAM,SACNkB,KAAM,0EAGTK,EAAWU,KAAI,SAACpC,GAAD,OACd,cAAC,EAAD,CACEO,UAAW,aAEXS,GAAIhB,EAAKgB,GACTG,OAAQnB,EAAKmB,OACbC,MAAOpB,EAAKoB,MACZC,KAAMrB,EAAKqB,KACXC,KAAMtB,EAAKsB,MALNtB,EAAKgB,W,OCxDLqB,MAZf,YAAkD,IAAtBC,EAAqB,EAArBA,QAAS9B,EAAY,EAAZA,SAC3BoB,EAAY7C,qBAAWN,GAAvBmD,QACR,OACE,wBACErB,UAAS,UAAKqB,IAAYpB,EAAW,SAAW,GAAvC,aACTJ,QAASkC,EAFX,SAIG9B,EAAW,KCqCH+B,MAzCf,WAAuB,IAAD,EACYxD,qBAAWN,GAAnCmD,EADY,EACZA,QAAS1C,EADG,EACHA,WACTuB,EAAS1B,qBAAWR,GAApBkC,KAFY,EAGc+B,mBAAS,GAHvB,mBAGbC,EAHa,KAGFC,EAHE,KAapB,SAASJ,EAAQlD,GACfF,GAAYE,EAAMG,OAAOoD,YAAc,GAOzC,OAhBAd,qBAAU,WACRa,EAAaE,KAAKC,KAAKpC,EAAKqC,OAAS,OACpC,CAACrC,IAeF,sBAAKF,UAAU,aAAf,UACE,wBAAQH,QAdZ,WACElB,EAAW0C,EAAU,IAaQmB,SAAUnB,EAAU,EAA/C,uBAGC,YAAIoB,MAAMP,IAAYL,KAAI,SAACpC,EAAMiD,GAAP,OACzB,cAAC,EAAD,CAA8BX,QAASA,EAAvC,SACGW,GADoBA,MAIzB,wBACE7C,QAfN,WACElB,EAAW0C,EAAU,IAejBmB,SAAUnB,IAAYa,EAAY,EAFpC,2BCFSS,MAxBf,WAAgB,IAAD,EACWV,mBAAS,IADpB,mBACN/B,EADM,KACAzB,EADA,OAE2BwD,mBAAS,IAFpC,mBAEN1D,EAFM,KAEQ6C,EAFR,OAGiBa,mBAAS,GAH1B,mBAGNZ,EAHM,KAGG1C,EAHH,OAImBsD,oBAAS,GAJ5B,mBAIN9B,EAJM,KAIIzB,EAJJ,OAKuBuD,mBAAS,IALhC,mBAKNd,EALM,KAKM7C,EALN,KAOb,OACE,cAAC,EAAUsE,SAAX,CAAoB3D,MAAO,CAAEiB,OAAMzB,WAAnC,SACE,cAAC,EAAamE,SAAd,CAAuB3D,MAAO,CAAEV,eAAc6C,mBAA9C,SACE,cAAC,EAAQwB,SAAT,CAAkB3D,MAAO,CAAEoC,UAAS1C,cAApC,SACE,cAAC,EAAYiE,SAAb,CAAsB3D,MAAO,CAAEkB,WAAUzB,eAAzC,SACE,sBAAKsB,UAAU,UAAf,UACE,cAAC,EAAD,CAAQmB,WAAYA,EAAY7C,cAAeA,IAC/C,cAAC,EAAD,CAAO6C,WAAYA,EAAY7C,cAAeA,IAC9C,cAAC,EAAD,gBCtBduE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.4f93914b.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst DataStore = createContext();\r\n\r\nexport default DataStore;\r\n","import { createContext } from \"react\";\r\n\r\nconst PageNum = createContext();\r\n\r\nexport default PageNum;\r\n","import { createContext } from \"react\";\r\n\r\nconst UnsortedData = createContext();\r\n\r\nexport default UnsortedData;\r\n","import { createContext } from \"react\";\r\n\r\nconst SortingMode = createContext();\r\n\r\nexport default SortingMode;\r\n","import { useContext } from \"react\";\r\n\r\nimport UnsortedData from \"./Contexts/UnsortedData\";\r\nimport DataStore from \"./Contexts/DataStore\";\r\nimport PageNum from \"./Contexts/PageNum\";\r\nimport SortingMode from \"./Contexts/SortingMode\";\r\n\r\nfunction Header({ setDataToShow }) {\r\n  const { unsortedData } = useContext(UnsortedData);\r\n  const { setData } = useContext(DataStore);\r\n  const { setSortMode } = useContext(SortingMode);\r\n  const { setPageNum } = useContext(PageNum);\r\n\r\n  function filterData(event) {\r\n    setPageNum(0);\r\n    let query = String(event.target.value);\r\n    let newData = unsortedData.slice();\r\n    let filtered = newData.filter((obj) => {\r\n      return Object.values(obj).some((elem) => String(elem).includes(query));\r\n    });\r\n    setData(filtered);\r\n    setDataToShow(filtered.slice(0, 50));\r\n  }\r\n\r\n  function cleanFilters() {\r\n    let newData = unsortedData.slice();\r\n    setPageNum(0);\r\n    setSortMode(true);\r\n    setData(newData);\r\n    setDataToShow(newData.slice(0, 50));\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <input onChange={filterData} placeholder={\"Поиск...\"} type=\"text\" />\r\n      <button onClick={cleanFilters}>Сброс фильтров и сортировки</button>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { useState, useContext } from \"react\";\r\nimport DataStore from \"./Contexts/DataStore\";\r\nimport UnsortedData from \"./Contexts/UnsortedData\";\r\nimport PageNum from \"./Contexts/PageNum\";\r\nimport SortingMode from \"./Contexts/SortingMode\";\r\n\r\nfunction TableButtonRow({ className, setDataToShow, children }) {\r\n  const { data, setData } = useContext(DataStore);\r\n  const { unsortedData } = useContext(UnsortedData);\r\n  const { setPageNum } = useContext(PageNum);\r\n  const { sortMode, setSortMode } = useContext(SortingMode);\r\n\r\n  function sorter(event) {\r\n    let defaultVal = unsortedData.slice();\r\n    let newData = data.slice();\r\n\r\n    if (sortMode === true) {\r\n      newData.sort(ascending);\r\n      setSortMode(false);\r\n      setData(newData);\r\n      setPageNum(0);\r\n      setDataToShow(newData.slice(0, 50));\r\n    } else if (sortMode === false) {\r\n      newData.sort(descending);\r\n      setSortMode(null);\r\n      setData(newData);\r\n      setPageNum(0);\r\n      setDataToShow(newData.slice(0, 50));\r\n    } else {\r\n      setSortMode(true);\r\n      setData(defaultVal);\r\n      setPageNum(0);\r\n      setDataToShow(defaultVal.slice(0, 50));\r\n    }\r\n\r\n    function ascending(a, b) {\r\n      if (event.target.dataset.type === \"string\") {\r\n        return a[event.target.id].localeCompare(b[event.target.id]);\r\n      } else if (event.target.dataset.type === \"number\") {\r\n        return a[event.target.id] > b[event.target.id] ? 1 : -1;\r\n      }\r\n    }\r\n\r\n    function descending(a, b) {\r\n      if (event.target.dataset.type === \"string\") {\r\n        return b[event.target.id].localeCompare(a[event.target.id]);\r\n      } else if (event.target.dataset.type === \"number\") {\r\n        return a[event.target.id] < b[event.target.id] ? 1 : -1;\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={className} onClick={sorter}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TableButtonRow;\r\n\r\n// { className, children, onClick }\r\n","function TableItemRow({ className, id, postId, email, name, body }) {\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"table-column-1\">\r\n        <p>{id}</p>\r\n      </div>\r\n      <div className=\"table-column-2\">\r\n        <p>{postId}</p>\r\n      </div>\r\n      <div className=\"table-column-3\">\r\n        <p>{email}</p>\r\n      </div>\r\n      <div className=\"table-column-4\">\r\n        <p>{name}</p>\r\n      </div>\r\n      <div className=\"table-column-5\">\r\n        <p>{body}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TableItemRow;\r\n","function SortingButton({ className, id, type, name }) {\r\n  return (\r\n    <button data-type={type} id={id} className={className}>\r\n      {name}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default SortingButton;\r\n","import { useEffect, useContext } from \"react\";\r\n\r\nimport DataStore from \"./Contexts/DataStore\";\r\nimport PageNum from \"./Contexts/PageNum\";\r\nimport UnsortedData from \"./Contexts/UnsortedData\";\r\n\r\nimport TableButtonRow from \"./TableButtonRow\";\r\nimport TableItemRow from \"./TableItemRow\";\r\nimport SortingButton from \"./SortingButton\";\r\n\r\nfunction Table({ dataToShow, setDataToShow }) {\r\n  const { data, setData } = useContext(DataStore);\r\n  const { setUnsortedData } = useContext(UnsortedData);\r\n  const { pageNum } = useContext(PageNum);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const fetchResult = await fetch(\r\n        `https://jsonplaceholder.typicode.com/comments`\r\n      );\r\n      const fetchResponse = await fetchResult.json();\r\n      const choppedResponse = fetchResponse.slice(0, 500);\r\n      setUnsortedData(choppedResponse);\r\n      setData(choppedResponse);\r\n      setDataToShow(choppedResponse.slice(0, 50));\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setDataToShow(data.slice(pageNum * 50, pageNum * 50 + 50));\r\n  }, [pageNum]);\r\n\r\n  return (\r\n    <div className=\"table\">\r\n      <TableButtonRow className=\"buttons-row\" setDataToShow={setDataToShow}>\r\n        <SortingButton\r\n          className=\"table-column-1\"\r\n          id={\"id\"}\r\n          type={\"number\"}\r\n          name={\"ID\"}\r\n        />\r\n        <SortingButton\r\n          className=\"table-column-2\"\r\n          id={\"postId\"}\r\n          type={\"number\"}\r\n          name={\"ID поста\"}\r\n        />\r\n        <SortingButton\r\n          className=\"table-column-3\"\r\n          id={\"email\"}\r\n          type={\"string\"}\r\n          name={\"E-mail автора\"}\r\n        />\r\n        <SortingButton\r\n          className=\"table-column-4\"\r\n          id={\"name\"}\r\n          type={\"string\"}\r\n          name={\"Заголовок\"}\r\n        />\r\n        <SortingButton\r\n          className=\"table-column-5\"\r\n          id={\"body\"}\r\n          type={\"number\"}\r\n          name={\"Комментарий\"}\r\n        />\r\n      </TableButtonRow>\r\n      {dataToShow.map((elem) => (\r\n        <TableItemRow\r\n          className={\"table-item\"}\r\n          key={elem.id}\r\n          id={elem.id}\r\n          postId={elem.postId}\r\n          email={elem.email}\r\n          name={elem.name}\r\n          body={elem.body}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Table;\r\n","import { useContext } from \"react\";\r\nimport PageNum from \"./Contexts/PageNum\";\r\n\r\nfunction PaginationButton({ setPage, children }) {\r\n  const { pageNum } = useContext(PageNum);\r\n  return (\r\n    <button\r\n      className={`${pageNum === children ? \"active\" : \"\"} page-btn`}\r\n      onClick={setPage}\r\n    >\r\n      {children + 1}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default PaginationButton;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport DataStore from \"./Contexts/DataStore\";\r\nimport PageNum from \"./Contexts/PageNum\";\r\n\r\nimport PaginationButton from \"./PaginationButton\";\r\n\r\nfunction Pagination() {\r\n  const { pageNum, setPageNum } = useContext(PageNum);\r\n  const { data } = useContext(DataStore);\r\n  const [pageCount, setPageCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setPageCount(Math.ceil(data.length / 50));\r\n  }, [data]);\r\n\r\n  function prevPage() {\r\n    setPageNum(pageNum - 1);\r\n  }\r\n\r\n  function setPage(event) {\r\n    setPageNum(+event.target.textContent - 1);\r\n  }\r\n\r\n  function nextPage() {\r\n    setPageNum(pageNum + 1);\r\n  }\r\n\r\n  return (\r\n    <nav className=\"pagination\">\r\n      <button onClick={prevPage} disabled={pageNum < 1 ? true : false}>\r\n        Prev Page\r\n      </button>\r\n      {[...Array(pageCount)].map((elem, index) => (\r\n        <PaginationButton key={index} setPage={setPage}>\r\n          {index}\r\n        </PaginationButton>\r\n      ))}\r\n      <button\r\n        onClick={nextPage}\r\n        disabled={pageNum === pageCount - 1 ? true : false}\r\n      >\r\n        Next Page\r\n      </button>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Pagination;\r\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport DataStore from \"./Contexts/DataStore\";\nimport PageNum from \"./Contexts/PageNum\";\nimport UnsortedData from \"./Contexts/UnsortedData\";\nimport SortingMode from \"./Contexts/SortingMode\";\n\nimport Header from \"./Header\";\nimport Table from \"./Table\";\nimport Pagination from \"./Pagination\";\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [unsortedData, setUnsortedData] = useState([]);\n  const [pageNum, setPageNum] = useState(0);\n  const [sortMode, setSortMode] = useState(true);\n  const [dataToShow, setDataToShow] = useState([]);\n\n  return (\n    <DataStore.Provider value={{ data, setData }}>\n      <UnsortedData.Provider value={{ unsortedData, setUnsortedData }}>\n        <PageNum.Provider value={{ pageNum, setPageNum }}>\n          <SortingMode.Provider value={{ sortMode, setSortMode }}>\n            <div className=\"wrapper\">\n              <Header dataToShow={dataToShow} setDataToShow={setDataToShow} />\n              <Table dataToShow={dataToShow} setDataToShow={setDataToShow} />\n              <Pagination />\n            </div>\n          </SortingMode.Provider>\n        </PageNum.Provider>\n      </UnsortedData.Provider>\n    </DataStore.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}